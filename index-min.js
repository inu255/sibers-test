function createContactItem(e){let t=JSON.parse(localStorage.getItem("User"+e)),o=document.createElement("div"),n=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),r=document.createElement("div");o.classList.add("contacts__item"),n.classList.add("contacts__name","contacts__list-item"),c.classList.add("contacts__email","contacts__list-item"),l.classList.add("contacts__phone","contacts__list-item"),r.classList.add("contacts__company","contacts__list-item"),n.innerHTML=t.name,c.innerHTML=t.email,l.innerHTML=t.phone,r.innerHTML=t.company.name,r.innerHTML=t.company.name,o.appendChild(n),o.appendChild(c),o.appendChild(l),o.appendChild(r),o.setAttribute("data-userid",e),0===e?document.querySelector("#dynamicList").insertAdjacentElement("afterbegin",o):document.querySelector('#dynamicList [data-userid="'+(e-1)+'"]').insertAdjacentElement("afterend",o)}function editContacts(e){let t=document.querySelector(".popup-edit__name"),o=document.querySelector(".popup-edit__email"),n=document.querySelector(".popup-edit__phone"),c=document.querySelector(".popup-edit__email");document.querySelector(".popup-edit__save").addEventListener("click",l=>{l.preventDefault(),t.value&&editUser(e,t.value),o.value&&editUser(e,!1,o.value),n.value&&editUser(e,!1,!1,n.value),c.value&&editUser(e,!1,!1,!1,c.value),document.querySelector('#dynamicList [data-userid="'+e+'"]').remove(),createContactItem(e),createPopup(),document.querySelector(".popup-overlay").style="display: none",document.querySelector(".popup-edit").style="display: none",document.querySelector(".popup-show").style="display: none"})}function editUser(e,t,o,n,c){let l=JSON.parse(localStorage.getItem("User"+e));t&&(l.name=t),o&&(l.name=o),n&&(l.name=n),c&&(l.name=c),localStorage.setItem("User"+e,JSON.stringify(l))}function closePopups(){}function createPopup(){let e=document.querySelectorAll("#dynamicList > *");for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(e){document.querySelector(".popup-overlay").style="display: block",document.querySelector(".popup-show").style="display: block",document.querySelector(".popup-show__name").innerHTML=JSON.parse(localStorage.getItem("User"+t)).name,document.querySelector("#email").innerHTML=JSON.parse(localStorage.getItem("User"+t)).email,document.querySelector("#email").setAttribute("href","mailto:"+JSON.parse(localStorage.getItem("User"+t)).email),document.querySelector("#phone").innerHTML=JSON.parse(localStorage.getItem("User"+t)).phone,document.querySelector("#phone").setAttribute("href","tel:"+JSON.parse(localStorage.getItem("User"+t)).phone),document.querySelector("#company").innerHTML=JSON.parse(localStorage.getItem("User"+t)).company.name,document.querySelector(".popup-show__edit").addEventListener("click",e=>{document.querySelector(".popup-show").style="display: none",document.querySelector(".popup-edit").style="display: block",editContacts(t)})})}fetch("http://demo.sibers.com/users").then(e=>e.json()).then(e=>{document.querySelector("#contactsNumber").innerHTML=e.length;for(let t=0;t<e.length;t++)localStorage.getItem("User"+t)||localStorage.setItem("User"+t,JSON.stringify(e[t]));for(let e=0;e<localStorage.length;e++)createContactItem(e)}).then(()=>{createPopup()}),document.querySelector(".popup-edit__hide").addEventListener("click",e=>{document.querySelector(".popup-overlay").style="display: none",document.querySelector(".popup-edit").style="display: none",document.querySelector(".popup-show").style="display: none"}),document.querySelector(".popup-edit__cancel").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".popup-edit").style="display: none",document.querySelector(".popup-show").style="display: block"}),document.querySelector(".popup-show__hide").addEventListener("click",e=>{document.querySelector(".popup-overlay").style="display: none",document.querySelector(".popup-show").style="display: none",document.querySelector(".popup-edit").style="display: none"}),document.querySelector(".popup-overlay").addEventListener("click",e=>{document.querySelector(".popup-overlay").style="display: none",document.querySelector(".popup-edit").style="display: none",document.querySelector(".popup-show").style="display: none"});
//# sourceMappingURL=index-min.js.map
