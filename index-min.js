function createContactItem(e){let t=JSON.parse(localStorage.getItem("User"+e)),o=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),p=document.createElement("div");o.classList.add("contacts__item"),n.classList.add("contacts__name","contacts__list-item"),l.classList.add("contacts__email","contacts__list-item"),c.classList.add("contacts__phone","contacts__list-item"),p.classList.add("contacts__company","contacts__list-item"),n.innerHTML=t.name,l.innerHTML=t.email,c.innerHTML=t.phone,p.innerHTML=t.company.name,p.innerHTML=t.company.name,o.appendChild(n),o.appendChild(l),o.appendChild(c),o.appendChild(p),o.setAttribute("data-userid",e),document.querySelector("#dynamicList").append(o),console.log(1)}fetch("http://demo.sibers.com/users").then(e=>e.json()).then(e=>{document.querySelector("#contactsNumber").innerHTML=e.length;for(let t=0;t<e.length;t++)localStorage.getItem("User"+t)||localStorage.setItem("User"+t,JSON.stringify(e[t]));for(let e=0;e<localStorage.length;e++)createContactItem(e)}).then(()=>{createPopup()});let nameInput=document.querySelector("input.popup-edit__name"),emailInput=document.querySelector("input.popup-edit__email"),phoneInput=document.querySelector("input.popup-edit__phone"),companyInput=document.querySelector("input.popup-edit__company");function editContacts(e){document.querySelector(".popup-edit__save").addEventListener("click",t=>{t.preventDefault();let o=JSON.parse(localStorage.getItem("User"+e));nameInput.value&&(o.name=nameInput.value),emailInput.value&&(o.email=emailInput.value),phoneInput.value&&(o.phone=phoneInput.value),companyInput.value&&(o.company.name=companyInput.value),localStorage.setItem("User"+e,JSON.stringify(o)),window.location.reload()})}function closePopups(){}function createPopup(){let e=document.querySelectorAll("#dynamicList > *");for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(e){document.querySelector(".popup-overlay").style="display: block",document.querySelector(".popup-show").style="display: block";let o=JSON.parse(localStorage.getItem("User"+t)).name,n=JSON.parse(localStorage.getItem("User"+t)).email,l=JSON.parse(localStorage.getItem("User"+t)).phone,c=JSON.parse(localStorage.getItem("User"+t)).company.name;console.log(o,n,l,c),document.querySelector(".popup-show__name").innerHTML=o,document.querySelector("#email").innerHTML=n,document.querySelector("#email").setAttribute("href","mailto:"+n),document.querySelector("#phone").innerHTML=l,document.querySelector("#phone").setAttribute("href","tel:"+l),document.querySelector("#company").innerHTML=c,nameInput.value=o,emailInput.value=n,phoneInput.value=l,companyInput.value=c,document.querySelector(".popup-show__edit").addEventListener("click",e=>{document.querySelector(".popup-show").style="display: none",document.querySelector(".popup-edit").style="display: block",editContacts(t)})})}document.querySelector(".popup-edit__hide").addEventListener("click",e=>{document.querySelector(".popup-overlay").style="display: none",document.querySelector(".popup-edit").style="display: none",document.querySelector(".popup-show").style="display: none"}),document.querySelector(".popup-edit__cancel").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".popup-edit").style="display: none",document.querySelector(".popup-show").style="display: block"}),document.querySelector(".popup-show__hide").addEventListener("click",e=>{document.querySelector(".popup-overlay").style="display: none",document.querySelector(".popup-show").style="display: none",document.querySelector(".popup-edit").style="display: none"}),document.querySelector(".popup-overlay").addEventListener("click",e=>{document.querySelector(".popup-overlay").style="display: none",document.querySelector(".popup-edit").style="display: none",document.querySelector(".popup-show").style="display: none"});
//# sourceMappingURL=index-min.js.map
