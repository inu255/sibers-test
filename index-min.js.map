{"version":3,"sources":["contacts/contacts.js","popup-edit/popup-edit.js","popup-show/popup-show.js","header/header.js"],"names":["createContactItem","id","currentUser","JSON","parse","localStorage","getItem","listItem","document","createElement","itemName","itemEmail","itemPhone","itemCompany","classList","add","innerHTML","name","email","phone","company","appendChild","setAttribute","querySelector","append","console","log","fetch","then","response","json","length","i","setItem","stringify","j","createPopup","nameInput","emailInput","phoneInput","companyInput","editContacts","addEventListener","event","preventDefault","user","value","window","location","reload","closePopups","shownItems","querySelectorAll","style","extractedName","extractedEmail","extractedPhone","extractedCompany"],"mappings":"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","sourcesContent":["// import {createPopup} from './popup-show.js';\r\nfetch('http://demo.sibers.com/users') // получаем json  с сервера\r\n  .then(response => response.json())\r\n  .then(json => {\r\n    document.querySelector('#contactsNumber').innerHTML = json.length;\r\n    for (let i = 0; i < json.length; i++) {\r\n      // задаём приоритет у локально изменённых данных контакта\r\n      if (!localStorage.getItem('User' + i)) {\r\n        // записываем данные в localStorage\r\n        localStorage.setItem('User' + i, JSON.stringify(json[i]));\r\n      }\r\n    }\r\n\r\n    for (let j = 0; j < localStorage.length; j++) {\r\n      createContactItem(j)\r\n    }\r\n  }).then(() => {\r\n    createPopup();\r\n  })\r\n\r\n    // export\r\n    function createContactItem(id) {\r\n    let currentUser = JSON.parse(localStorage.getItem('User' + id));\r\n    let listItem = document.createElement('div'),\r\n        itemName = document.createElement('div'),\r\n        itemEmail = document.createElement('div'),\r\n        itemPhone = document.createElement('div'),\r\n        itemCompany = document.createElement('div');\r\n    listItem.classList.add('contacts__item');\r\n    itemName.classList.add('contacts__name', 'contacts__list-item');\r\n    itemEmail.classList.add('contacts__email', 'contacts__list-item');\r\n    itemPhone.classList.add('contacts__phone', 'contacts__list-item');\r\n    itemCompany.classList.add('contacts__company', 'contacts__list-item');\r\n\r\n    itemName.innerHTML = currentUser.name;\r\n    itemEmail.innerHTML = currentUser.email;\r\n    itemPhone.innerHTML = currentUser.phone;\r\n    itemCompany.innerHTML = currentUser.company.name;\r\n    itemCompany.innerHTML = currentUser.company.name;\r\n\r\n    listItem.appendChild(itemName);\r\n    listItem.appendChild(itemEmail);\r\n    listItem.appendChild(itemPhone);\r\n    listItem.appendChild(itemCompany);\r\n    listItem.setAttribute('data-userid', id);\r\n\r\n    // dynamicList.appendChild(listItem);\r\n\r\n    document.querySelector('#dynamicList').append(listItem);\r\n\r\n    console.log(1);\r\n  }\r\n","// import {createContactItem} from './contacts.js';\r\n// import {createPopup} from './popup-show.js';\r\n\r\nlet nameInput = document.querySelector('input.popup-edit__name'),\r\n    emailInput = document.querySelector('input.popup-edit__email'),\r\n    phoneInput = document.querySelector('input.popup-edit__phone'),\r\n    companyInput = document.querySelector('input.popup-edit__company');\r\n\r\nfunction editContacts(id) {\r\n  document.querySelector('.popup-edit__save').addEventListener('click', (event) => {\r\n    event.preventDefault();\r\n    let user = JSON.parse(localStorage.getItem('User' + id));\r\n\r\n    if (nameInput.value) user.name = nameInput.value;\r\n    if (emailInput.value) user.email = emailInput.value;\r\n    if (phoneInput.value) user.phone = phoneInput.value;\r\n    if (companyInput.value) user.company.name = companyInput.value;\r\n\r\n    localStorage.setItem('User' + id, JSON.stringify(user));\r\n    window.location.reload();\r\n    // document.querySelector('#dynamicList [data-userid=\"'+ id + '\"]').remove();\r\n    // createContactItem(id);\r\n    // createPopup();\r\n    //\r\n    // document.querySelector('.popup-overlay').style = 'display: none';\r\n    // document.querySelector('.popup-edit').style = 'display: none';\r\n    // document.querySelector('.popup-show').style = 'display: none';\r\n\r\n\r\n\r\n\r\n    // сделать скрытие попапов через функцию\r\n  })\r\n}\r\n\r\nfunction closePopups() {\r\n\r\n}\r\n\r\ndocument.querySelector('.popup-edit__hide').addEventListener('click', (event) => {\r\n  document.querySelector('.popup-overlay').style = 'display: none';\r\n  document.querySelector('.popup-edit').style = 'display: none';\r\n  document.querySelector('.popup-show').style = 'display: none';\r\n})\r\n\r\ndocument.querySelector('.popup-edit__cancel').addEventListener('click', (event) => {\r\n  event.preventDefault();\r\n  document.querySelector('.popup-edit').style = 'display: none';\r\n  document.querySelector('.popup-show').style = 'display: block';\r\n})\r\n","// import {editContacts} from './popup-edit.js';\r\n\r\nfunction createPopup() {\r\n  let shownItems = document.querySelectorAll('#dynamicList > *');\r\n\r\n  for (let i = 0; i < shownItems.length; i++) {\r\n    shownItems[i].addEventListener('click', function(event) {\r\n      document.querySelector('.popup-overlay').style = 'display: block';\r\n      document.querySelector('.popup-show').style = 'display: block';\r\n\r\n      let extractedName = JSON.parse(localStorage.getItem('User' + i)).name,\r\n          extractedEmail = JSON.parse(localStorage.getItem('User' + i)).email,\r\n          extractedPhone = JSON.parse(localStorage.getItem('User' + i)).phone,\r\n          extractedCompany = JSON.parse(localStorage.getItem('User' + i)).company.name;\r\n\r\n      console.log(extractedName, extractedEmail, extractedPhone, extractedCompany)\r\n\r\n      document.querySelector('.popup-show__name').innerHTML = extractedName;\r\n      document.querySelector('#email').innerHTML = extractedEmail;\r\n      document.querySelector('#email').setAttribute('href', 'mailto:' + extractedEmail);\r\n      document.querySelector('#phone').innerHTML = extractedPhone;\r\n      document.querySelector('#phone').setAttribute('href', 'tel:' + extractedPhone);\r\n      document.querySelector('#company').innerHTML = extractedCompany;\r\n\r\n        nameInput.value = extractedName;\r\n        emailInput.value = extractedEmail;\r\n        phoneInput.value = extractedPhone;\r\n        companyInput.value = extractedCompany;\r\n\r\n      document.querySelector('.popup-show__edit').addEventListener('click', (event) => {\r\n        document.querySelector('.popup-show').style = 'display: none';\r\n        document.querySelector('.popup-edit').style = 'display: block';\r\n        editContacts(i);\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\ndocument.querySelector('.popup-show__hide').addEventListener('click', (event) => {\r\n  document.querySelector('.popup-overlay').style = 'display: none';\r\n  document.querySelector('.popup-show').style = 'display: none';\r\n  document.querySelector('.popup-edit').style = 'display: none';\r\n})\r\n\r\ndocument.querySelector('.popup-overlay').addEventListener('click', (event) => {\r\n  document.querySelector('.popup-overlay').style = 'display: none';\r\n  document.querySelector('.popup-edit').style = 'display: none';\r\n  document.querySelector('.popup-show').style = 'display: none';\r\n})\r\n","// тут будет поиск\r\n"],"file":"index-min.js"}